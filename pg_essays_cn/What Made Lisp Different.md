---
title: "是什么让Lisp与众不同"
original_title: "What Made Lisp Different"
author: "Paul Graham"
translator: "deepseek-ai/DeepSeek-V3 (SiliconFlow)"
translate_date: "2025-07-14"
source_file: "What Made Lisp Different.md"
---

# 是什么让Lisp与众不同

| | [](index.html)  

|  

2001年12月（2002年5月修订）  

（本文是针对[LL1](http://ll1.mit.edu)邮件列表中一些问题的回应，现已被纳入《[书呆子的复仇](icad.html)》一文。）  

当麦卡锡在20世纪50年代末设计Lisp时，它与当时的主流语言（其中最重要的是[Fortran](history.html)）形成了根本性的突破。  

Lisp包含了九项创新理念：  

* * *

**1. 条件表达式。** 条件表达式即if-then-else结构。如今我们对此习以为常，它是由麦卡锡在开发Lisp过程中[发明](http://www-formal.stanford.edu/jmc/history/lisp/node2.html)的（当时Fortran仅具备基于底层硬件分支指令的条件跳转功能）。作为Algol委员会成员的麦卡锡将条件表达式引入Algol，由此传播至大多数其他语言。

**2. 函数类型。** 在Lisp中，函数是一等对象——它们与整数、字符串等数据类型无异，具有字面表示形式，可存储于变量中，也能作为参数传递。

**3. 递归。** 递归作为数学概念早于Lisp存在，但Lisp是首个支持递归的编程语言（将函数作为一等对象隐含着这一特性）。

**4. 全新的变量概念。** Lisp中所有变量本质上都是指针。类型属于值而非变量，变量赋值或绑定意味着复制指针而非其所指内容。

**5. 垃圾回收机制。**

**6. 由表达式构成的程序。** Lisp程序是表达式树，每个表达式都返回值（某些Lisp方言支持多值返回）。这与Fortran及多数后继语言形成对比，后者严格区分表达式与语句。

Fortran的这种区分很自然：由于该语言基于打孔卡输入格式，其设计以行为单位。语句不可嵌套。数学运算需要表达式，但其他结构无需返回值——因为没有接收返回值的上下文。

随着块结构语言的出现，这一限制本应消失，但为时已晚。表达式与语句的区分已根深蒂固，从Fortran蔓延至Algol，进而影响两者后代。

当语言完全由表达式构成时，表达式可自由组合。例如（使用[Arc](arc.html)语法）既可写：
```lisp
(if foo (= x 1) (= x 2))
```
也可写：
```lisp
(= x (if foo 1 2))
```

**7. 符号类型。** 符号与字符串的区别在于可通过指针比较来测试相等性。

**8. 基于符号树的代码表示法。**

**9. 全语言随时可用。** 读取时、编译时与运行时之间没有严格界限。你可以在读取时编译或运行代码，在编译时读取或运行代码，在运行时读取或编译代码。

读取时运行代码让用户能重定义Lisp语法；编译时运行代码是宏的基础；运行时编译支持Lisp作为Emacs等程序的扩展语言；运行时读取则使程序能通过s表达式通信——这一思想后来以XML形式被重新发明。

* * *

当Lisp最初被发明时，所有这些理念都与常规编程实践相去甚远，当时的编程实践很大程度上受限于20世纪50年代末的硬件条件。

随着时间的推移，以一系列流行语言为代表的默认编程语言逐渐向Lisp靠拢。其中1-5项特性现已广泛普及。第6项特性开始出现在主流语言中。Python具备了第7项特性的某种形式，尽管似乎没有专门的语法支持。而第8项特性（与第9项共同构成了Lisp宏的实现基础）至今仍是Lisp独有的特色——或许因为（a）它需要依赖括号或同样"糟糕"的符号，（b）一旦添加了这个终极能力，你就不能再声称发明了新语言，而只能算设计了Lisp的新方言;-)

虽然对当代程序员很有帮助，但用Lisp与其他语言随机采用的权宜之计之间的差异来描述它，其实颇为奇怪。这很可能不是麦卡锡的原始构想。Lisp并非为修正Fortran的缺陷而生，它更像是[计算公理化](rootsoflisp.html)尝试的副产品。

---  
| | [日语译本](http://d.hatena.ne.jp/lionfan/20070217)  

* * *